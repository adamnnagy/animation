{"version":3,"sources":["node_modules/tslib/tslib.es6.js","node_modules/style-value-types/dist/style-value-types.es.js","node_modules/hey-listen/dist/hey-listen.es.js","../../../../../home/adam-nagy/.nvm/versions/node/v10.18.1/lib/node_modules/parcel-bundler/node_modules/process/browser.js","node_modules/framesync/dist/framesync.es.js","node_modules/@popmotion/easing/dist/easing.es.js","node_modules/@popmotion/popcorn/dist/popcorn.es.js","node_modules/stylefire/dist/stylefire.es.js","node_modules/popmotion/dist/popmotion.es.js","animation.js","../../../../../home/adam-nagy/.nvm/versions/node/v10.18.1/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__exportStar","m","exports","__values","o","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","clamp","min","max","Math","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","number","test","parse","parseFloat","transform","alpha","scale","createUnitType","unit","endsWith","split","degrees","percent","px","vh","vw","progressPercentage","getValueFromFunctionString","substring","lastIndexOf","clampRgbUnit","isRgba","red","undefined","isHsla","hue","splitColorValues","terms","values","valuesArray","rgbaTemplate","_a","green","blue","_b","alpha$$1","hslaTemplate","saturation","lightness","rgbUnit","round","isColorString","color","colorType","startsWith","rgba","hsla","hex","substr","parseInt","COLOR_TOKEN","NUMBER_TOKEN","convertNumbersToZero","complex","isNaN","numValues","foundNumbers","match","foundColors","input","parsed","replace","map","createTransformer","prop","template","token","numColors","numNumbers","output","getAnimatableNone","parsedTarget","targetTransformer","warning","invariant","check","message","console","warn","Error","process","module","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","Item","array","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","prevTime","onNextFrame","window","requestAnimationFrame","callback","timestamp","Date","now","timeToCall","createStep","setRunNextFrame","processToRun","processToRunNextFrame","numThisFrame","isProcessing","cancelled","WeakSet","toKeepAlive","renderStep","cancel","indexOfCallback","add","splice","frame","process_1","has","schedule","keepAlive","immediate","addToCurrentBuffer","buffer","delete","StepId","maxElapsed","defaultElapsed","useDefaultElapsed","willRunNextFrame","delta","stepsOrder","Read","Update","Render","PostRender","setWillRunNextFrame","willRun","reduce","acc","sync","startLoop","cancelSync","steps","processStep","stepId","processFrame","forEach","getFrameData","DEFAULT_OVERSHOOT_STRENGTH","reversed","easing","mirrored","createReversedEasing","createMirroredEasing","createExpoIn","power","pow","createBackIn","createAnticipateEasing","backEasing","linear","easeIn","easeOut","easeInOut","circIn","sin","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","BOUNCE_FIRST_THRESHOLD","BOUNCE_SECOND_THRESHOLD","BOUNCE_THIRD_THRESHOLD","ca","cb","cc","bounceOut","p2","bounceIn","bounceInOut","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","K_SPLINE_TABLE_SIZE","K_SAMPLE_STEP_SIZE","FLOAT_32_SUPPORTED","Float32Array","a1","a2","getSlope","calcBezier","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","binarySubdivide","aX","aA","aB","currentX","currentT","abs","newtonRaphsonIterate","aGuessT","currentSlope","calcSampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","resolver","returnValue","zeroPoint","x","z","isNum","radiansToDegrees","radians","PI","angle","atan2","applyOffset","from","to","hasReceivedFrom","curryRange","func","cv","clamp$1","conditional","degreesToRadians","isPoint","point","isPoint3D","distance1D","distance","xDelta","yDelta","zDelta","sqrt","progress","toFromDifference","mix","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","type","notAnimatable","color$$1","mixColor","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","combineFunctions","pipe","transformers","_i","getMixer","origin","mixComplex","mixArray","slice","blendValue","fromThis","mixObject","analyse","numRGB","numHSL","originStats","targetStats","mixNumber","detectMixerFactory","isArray","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","fastInterpolate","slowInterpolate","inputLength","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","interpolate","_c","reverse","interpolator","pointFromVector","cos","toDecimal","num","precision","smoothFrame","prevValue","nextValue","duration","smoothing","smooth","strength","previousValue","lastUpdated","currentFramestamp","timeDelta","newValue","snap","points","i_1","numPoints_1","lastDistance","identity","springForce","alterDisplacement","constant","displacement","springModifiedDisplacement","springForceLinear","springForceExpo","velocityPerFrame","xps","frameDuration","velocityPerSecond","velocity","wrap","rangeSize","wrap$1","clampProgress","direction","expanded","rounded","floor","ceil","createStyler","onRead","onRender","uncachedValues","Set","useCache","props","state","changedValues","hasChanged","setValue","hasCSSVariable","currentValue","render","styler","get","forceRead","useCached","set","forceRender","CAMEL_CASE_PATTERN","REPLACE_TEMPLATE","camelToDash","str","toLowerCase","camelCache","Map","dashCache","prefixes","numPrefixes","isBrowser","document","testElement","setDashPrefix","prefixed","testPrefix","createElement","prefix","noPrefix","prefixedPropertyName","charAt","toUpperCase","style","setServerProperty","prefixer","asDashCase","cache","axes","order","transformProps","axesAcc","axesKey","transformPropDictionary","dict","isTransformProp","sortTransformProps","transformOriginProps","isTransformOriginProp","int","valueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","translateX","translateY","translateZ","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","getValueType","getValueAsType","SCROLL_LEFT","SCROLL_TOP","scrollKeys","blacklist","translateAlias","isCustomTemplate","buildTransform","transformKeys","transformIsDefault","enableHardwareAcceleration","transformString","transformHasZ","sort","numTransformKeys","trim","buildStyleProperty","styles","transformOrigin","isDashCase","hasTransform","hasTransformOrigin","valueType","valueAsType","createStyleBuilder","options","element","preparseOutput","defaultValueType","domValue","getComputedStyle","getPropertyValue","buildStyles","numChangedValues","setProperty","cssStyler","createCssStyler","camelCaseAttributes","defaultOrigin","svgAttrsTemplate","progressToPixels","unmeasured","calcOrigin","offset","calculateSVGTransformOrigin","dimensions","buildSVGAttrs","totalPathLength","cssBuilder","attrs","attrX","attrY","pathLength","pathSpacing","pathOffset","attrKey","createAttrBuilder","getDimensions","getBBox","getBoundingClientRect","getSVGElementDimensions","isPath","tagName","svgStyler","getAttribute","buildAttrs","setAttribute","svg","getTotalLength","viewport","pageYOffset","pageXOffset","scrollTop","scrollLeft","scrollTo","WeakMap","createDOMStyler","node","HTMLElement","SVGElement","getStyler","index","nodeOrSelector","querySelector","Chainable","applyMiddleware","middleware","funcs","pipedUpdate","update","while","predicate","complete","filter","Observer","observer","onComplete","_this","isActive","updateObserver","err","createObserver","observerCandidate","Action","_super","start","isComplete","subscription","stop","init","observerProps","api","registerParent","action","BaseMulticast","subscribers","subscriber","subscribe","unsubscribe","parent","Multicast","multicast","stepProgress","progress$$1","segment","subsegment","percentProgressOfTarget","subsegmentProgressOfTarget","segmentProgressOfTarget","calc","freeze","dilate","getValueFromProgress","pointFromAngleAndDistance","getProgressFromValue","speedPerFrame","speedPerSecond","isValueList","isSingleValue","typeOfV","ValueReaction","scheduleVelocityCheck","postRender","velocityCheck","prev","current","updateCurrent","getVelocityOfCurrent","getSingleVelocity","getListVelocity","getMapVelocity","initialSubscription","getVelocity","sub","multi","getCount","getFirst","getOutput","mapApi","setProp","startActions","actions","numActions","updateOutput","numCompletedActions","subs","hasCompleted","keys","methodName","composite","propKey","starter","parallel","parallel$1","createVectorTests","typeTests","testNames","isVectorProp","getVectorKeys","vectorKeys","testVectorProps","some","unitTypes","findUnitType","isUnitProp","Boolean","createAction","reduceArrayValue","createArrayAction","firstVectorKey","actionList","childActionProps","getActionCreator","reduceObjectValue","createObjectAction","actionMap","createUnitAction","unitType","createMixerAction","createColorAction","createComplexAction","createVectorAction","vectorAction","isVector","testKey","testProp","decay","_d","_e","timeConstant","_f","restDelta","modifyTarget","elapsed","amplitude","idealTarget","frameDelta","exp","isMoving","vectorDecay","spring","stiffness","damping","_g","mass","_h","restSpeed","_j","initialVelocity","position","prevPosition","dampingRatio","angularFreq","envelope","expoDecay","isBelowVelocityThreshold","isBelowDisplacementThreshold","vectorSpring","inertia","bounceStiffness","bounceDamping","activeAnimation","isSpring","isLessThanMin","isMoreThanMax","isOutOfBounds","isTravellingAwayFromBounds","currentVelocity","startAnimation","animation","startSpring","initialTime","scrubber","reverseEase","seek","vectorScrubber","tween","flip","loop","yoyo","repeatDelay","_k","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","currentProgress","reverseAnimation","isTweenComplete","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","newProgress","clampProgress$1","defaultEasings","easing$$1","defaultTimings","interpolateScrubbers","scrubbers","rangeLength","finalInputIndex","finalScrubberIndex","scrub","keyframes","easings","times","tweenProps","physics","acceleration","friction","springStrength","distanceToTarget","setAcceleration","setFriction","setSpringStrength","setSpringTarget","setVelocity","vectorPhysics","DEFAULT_DURATION","flattenTimings","instructions","flatInstructions","lastArg","isStaggered","staggerDelay","segments","numSegments","item","flattenArrayInstructions","instruction","convertDefToProps","def","prevTimeTo","timeFrom","at","timeTo","timeline","calculatedDuration","animationDefs","tracks","numDefs","track","trackKeyframes","keyframeProps","listen","events","eventNames","eventName","addEventListener","removeEventListener","defaultPointerPos","clientX","clientY","pageX","pageY","eventToPoint","isTouchDevice","updatePointsLocation","touches","numTouches","thisTouch","passive","capture","multitouch","preventDefault","initialDistance","initialRotation","isGesture","firstTouch","secondTouch","updatePoint","newDistance","newRotation","onMove","updateOnMove","getIsTouchDevice","isMouseDevice","updatePointLocation","mouse","getFirstTouch","pointer","index$1","applyXOffset_1","applyYOffset_1","delta_1","chain","playCurrent","crossfade","balance","fadable","va","vb","setBalance","delay","timeToDelay","merge","thisAction","scheduler","schedulee","latest","schedulerSub","scheduleeSub","stagger","interval","intervalIsNumber","actionsWithDelay","appendUnit","st","transformMap","childTransformers","childTransformer","blendArray","blendColor","generateStaticSpring","nonlinearSpring","linearSpring","css","ball","divStyler","ballXY","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","Function","deps","cached"],"mappings":"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","file":"animation.7bfd2d21.js","sourceRoot":"..","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar clamp = function (min, max) { return function (v) {\r\n    return Math.max(Math.min(v, max), min);\r\n}; };\r\nvar sanitize = function (v) { return (v % 1 ? Number(v.toFixed(5)) : v); };\r\nvar floatRegex = /(-)?(\\d[\\d\\.]*)/g;\r\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\r\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$/i;\n\nvar number = {\r\n    test: function (v) { return typeof v === 'number'; },\r\n    parse: parseFloat,\r\n    transform: function (v) { return v; }\r\n};\r\nvar alpha = __assign(__assign({}, number), { transform: clamp(0, 1) });\r\nvar scale = __assign(__assign({}, number), { default: 1 });\n\nvar createUnitType = function (unit) { return ({\r\n    test: function (v) {\r\n        return typeof v === 'string' && v.endsWith(unit) && v.split(' ').length === 1;\r\n    },\r\n    parse: parseFloat,\r\n    transform: function (v) { return \"\" + v + unit; }\r\n}); };\r\nvar degrees = createUnitType('deg');\r\nvar percent = createUnitType('%');\r\nvar px = createUnitType('px');\r\nvar vh = createUnitType('vh');\r\nvar vw = createUnitType('vw');\r\nvar progressPercentage = __assign(__assign({}, percent), { parse: function (v) { return percent.parse(v) / 100; }, transform: function (v) { return percent.transform(v * 100); } });\n\nvar getValueFromFunctionString = function (value) {\r\n    return value.substring(value.indexOf('(') + 1, value.lastIndexOf(')'));\r\n};\r\nvar clampRgbUnit = clamp(0, 255);\r\nvar isRgba = function (v) { return v.red !== undefined; };\r\nvar isHsla = function (v) { return v.hue !== undefined; };\r\nvar splitColorValues = function (terms) {\r\n    return function (v) {\r\n        if (typeof v !== 'string')\r\n            return v;\r\n        var values = {};\r\n        var valuesArray = getValueFromFunctionString(v).split(/,\\s*/);\r\n        for (var i = 0; i < 4; i++) {\r\n            values[terms[i]] =\r\n                valuesArray[i] !== undefined ? parseFloat(valuesArray[i]) : 1;\r\n        }\r\n        return values;\r\n    };\r\n};\r\nvar rgbaTemplate = function (_a) {\r\n    var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n    return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + alpha$$1 + \")\";\r\n};\r\nvar hslaTemplate = function (_a) {\r\n    var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n    return \"hsla(\" + hue + \", \" + saturation + \", \" + lightness + \", \" + alpha$$1 + \")\";\r\n};\r\nvar rgbUnit = __assign(__assign({}, number), { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\r\nfunction isColorString(color, colorType) {\r\n    return color.startsWith(colorType) && singleColorRegex.test(color);\r\n}\r\nvar rgba = {\r\n    test: function (v) { return (typeof v === 'string' ? isColorString(v, 'rgb') : isRgba(v)); },\r\n    parse: splitColorValues(['red', 'green', 'blue', 'alpha']),\r\n    transform: function (_a) {\r\n        var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n        return rgbaTemplate({\r\n            red: rgbUnit.transform(red),\r\n            green: rgbUnit.transform(green),\r\n            blue: rgbUnit.transform(blue),\r\n            alpha: sanitize(alpha.transform(alpha$$1))\r\n        });\r\n    }\r\n};\r\nvar hsla = {\r\n    test: function (v) { return (typeof v === 'string' ? isColorString(v, 'hsl') : isHsla(v)); },\r\n    parse: splitColorValues(['hue', 'saturation', 'lightness', 'alpha']),\r\n    transform: function (_a) {\r\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n        return hslaTemplate({\r\n            hue: Math.round(hue),\r\n            saturation: percent.transform(sanitize(saturation)),\r\n            lightness: percent.transform(sanitize(lightness)),\r\n            alpha: sanitize(alpha.transform(alpha$$1))\r\n        });\r\n    }\r\n};\r\nvar hex = __assign(__assign({}, rgba), { test: function (v) { return typeof v === 'string' && isColorString(v, '#'); }, parse: function (v) {\r\n        var r = '';\r\n        var g = '';\r\n        var b = '';\r\n        if (v.length > 4) {\r\n            r = v.substr(1, 2);\r\n            g = v.substr(3, 2);\r\n            b = v.substr(5, 2);\r\n        }\r\n        else {\r\n            r = v.substr(1, 1);\r\n            g = v.substr(2, 1);\r\n            b = v.substr(3, 1);\r\n            r += r;\r\n            g += g;\r\n            b += b;\r\n        }\r\n        return {\r\n            red: parseInt(r, 16),\r\n            green: parseInt(g, 16),\r\n            blue: parseInt(b, 16),\r\n            alpha: 1\r\n        };\r\n    } });\r\nvar color = {\r\n    test: function (v) {\r\n        return (typeof v === 'string' && singleColorRegex.test(v)) ||\r\n            isRgba(v) ||\r\n            isHsla(v);\r\n    },\r\n    parse: function (v) {\r\n        if (rgba.test(v)) {\r\n            return rgba.parse(v);\r\n        }\r\n        else if (hsla.test(v)) {\r\n            return hsla.parse(v);\r\n        }\r\n        else if (hex.test(v)) {\r\n            return hex.parse(v);\r\n        }\r\n        return v;\r\n    },\r\n    transform: function (v) {\r\n        if (isRgba(v)) {\r\n            return rgba.transform(v);\r\n        }\r\n        else if (isHsla(v)) {\r\n            return hsla.transform(v);\r\n        }\r\n        return v;\r\n    }\r\n};\n\nvar COLOR_TOKEN = '${c}';\r\nvar NUMBER_TOKEN = '${n}';\r\nvar convertNumbersToZero = function (v) {\r\n    return typeof v === 'number' ? 0 : v;\r\n};\r\nvar complex = {\r\n    test: function (v) {\r\n        if (typeof v !== 'string' || !isNaN(v))\r\n            return false;\r\n        var numValues = 0;\r\n        var foundNumbers = v.match(floatRegex);\r\n        var foundColors = v.match(colorRegex);\r\n        if (foundNumbers)\r\n            numValues += foundNumbers.length;\r\n        if (foundColors)\r\n            numValues += foundColors.length;\r\n        return numValues > 0;\r\n    },\r\n    parse: function (v) {\r\n        var input = v;\r\n        var parsed = [];\r\n        var foundColors = input.match(colorRegex);\r\n        if (foundColors) {\r\n            input = input.replace(colorRegex, COLOR_TOKEN);\r\n            parsed.push.apply(parsed, foundColors.map(color.parse));\r\n        }\r\n        var foundNumbers = input.match(floatRegex);\r\n        if (foundNumbers) {\r\n            parsed.push.apply(parsed, foundNumbers.map(number.parse));\r\n        }\r\n        return parsed;\r\n    },\r\n    createTransformer: function (prop) {\r\n        var template = prop;\r\n        var token = 0;\r\n        var foundColors = prop.match(colorRegex);\r\n        var numColors = foundColors ? foundColors.length : 0;\r\n        if (foundColors) {\r\n            for (var i = 0; i < numColors; i++) {\r\n                template = template.replace(foundColors[i], COLOR_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        var foundNumbers = template.match(floatRegex);\r\n        var numNumbers = foundNumbers ? foundNumbers.length : 0;\r\n        if (foundNumbers) {\r\n            for (var i = 0; i < numNumbers; i++) {\r\n                template = template.replace(foundNumbers[i], NUMBER_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        return function (v) {\r\n            var output = template;\r\n            for (var i = 0; i < token; i++) {\r\n                output = output.replace(i < numColors ? COLOR_TOKEN : NUMBER_TOKEN, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\r\n            }\r\n            return output;\r\n        };\r\n    },\r\n    getAnimatableNone: function (target) {\r\n        var parsedTarget = complex.parse(target);\r\n        var targetTransformer = complex.createTransformer(target);\r\n        return targetTransformer(parsedTarget.map(convertNumbersToZero));\r\n    }\r\n};\n\nexport { number, scale, alpha, degrees, percent, progressPercentage, px, vw, vh, rgba, rgbUnit, hsla, hex, color, complex };\n","var warning = function () { };\r\nvar invariant = function () { };\r\nif (process.env.NODE_ENV !== 'production') {\r\n    warning = function (check, message) {\r\n        if (!check && typeof console !== 'undefined') {\r\n            console.warn(message);\r\n        }\r\n    };\r\n    invariant = function (check, message) {\r\n        if (!check) {\r\n            throw new Error(message);\r\n        }\r\n    };\r\n}\n\nexport { invariant, warning };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { invariant } from 'hey-listen';\n\nvar prevTime = 0;\r\nvar onNextFrame = typeof window !== 'undefined' && window.requestAnimationFrame !== undefined\r\n    ? function (callback) { return window.requestAnimationFrame(callback); }\r\n    : function (callback) {\r\n        var timestamp = Date.now();\r\n        var timeToCall = Math.max(0, 16.7 - (timestamp - prevTime));\r\n        prevTime = timestamp + timeToCall;\r\n        setTimeout(function () { return callback(prevTime); }, timeToCall);\r\n    };\n\nvar createStep = (function (setRunNextFrame) {\r\n    var processToRun = [];\r\n    var processToRunNextFrame = [];\r\n    var numThisFrame = 0;\r\n    var isProcessing = false;\r\n    var i = 0;\r\n    var cancelled = new WeakSet();\r\n    var toKeepAlive = new WeakSet();\r\n    var renderStep = {\r\n        cancel: function (process) {\r\n            var indexOfCallback = processToRunNextFrame.indexOf(process);\r\n            cancelled.add(process);\r\n            if (indexOfCallback !== -1) {\r\n                processToRunNextFrame.splice(indexOfCallback, 1);\r\n            }\r\n        },\r\n        process: function (frame) {\r\n            var _a;\r\n            isProcessing = true;\r\n            _a = [\r\n                processToRunNextFrame,\r\n                processToRun\r\n            ], processToRun = _a[0], processToRunNextFrame = _a[1];\r\n            processToRunNextFrame.length = 0;\r\n            numThisFrame = processToRun.length;\r\n            if (numThisFrame) {\r\n                var process_1;\r\n                for (i = 0; i < numThisFrame; i++) {\r\n                    process_1 = processToRun[i];\r\n                    process_1(frame);\r\n                    if (toKeepAlive.has(process_1) === true && !cancelled.has(process_1)) {\r\n                        renderStep.schedule(process_1);\r\n                        setRunNextFrame(true);\r\n                    }\r\n                }\r\n            }\r\n            isProcessing = false;\r\n        },\r\n        schedule: function (process, keepAlive, immediate) {\r\n            if (keepAlive === void 0) { keepAlive = false; }\r\n            if (immediate === void 0) { immediate = false; }\r\n            invariant(typeof process === 'function', 'Argument must be a function');\r\n            var addToCurrentBuffer = immediate && isProcessing;\r\n            var buffer = addToCurrentBuffer ? processToRun : processToRunNextFrame;\r\n            cancelled.delete(process);\r\n            if (keepAlive)\r\n                toKeepAlive.add(process);\r\n            if (buffer.indexOf(process) === -1) {\r\n                buffer.push(process);\r\n                if (addToCurrentBuffer)\r\n                    numThisFrame = processToRun.length;\r\n            }\r\n        }\r\n    };\r\n    return renderStep;\r\n});\n\nvar StepId;\r\n(function (StepId) {\r\n    StepId[\"Read\"] = \"read\";\r\n    StepId[\"Update\"] = \"update\";\r\n    StepId[\"Render\"] = \"render\";\r\n    StepId[\"PostRender\"] = \"postRender\";\r\n    StepId[\"FixedUpdate\"] = \"fixedUpdate\";\r\n})(StepId || (StepId = {}));\n\nvar maxElapsed = 40;\r\nvar defaultElapsed = (1 / 60) * 1000;\r\nvar useDefaultElapsed = true;\r\nvar willRunNextFrame = false;\r\nvar isProcessing = false;\r\nvar frame = {\r\n    delta: 0,\r\n    timestamp: 0\r\n};\r\nvar stepsOrder = [\r\n    StepId.Read,\r\n    StepId.Update,\r\n    StepId.Render,\r\n    StepId.PostRender\r\n];\r\nvar setWillRunNextFrame = function (willRun) { return (willRunNextFrame = willRun); };\r\nvar _a = stepsOrder.reduce(function (acc, key) {\r\n    var step = createStep(setWillRunNextFrame);\r\n    acc.sync[key] = function (process, keepAlive, immediate) {\r\n        if (keepAlive === void 0) { keepAlive = false; }\r\n        if (immediate === void 0) { immediate = false; }\r\n        if (!willRunNextFrame)\r\n            startLoop();\r\n        step.schedule(process, keepAlive, immediate);\r\n        return process;\r\n    };\r\n    acc.cancelSync[key] = function (process) { return step.cancel(process); };\r\n    acc.steps[key] = step;\r\n    return acc;\r\n}, {\r\n    steps: {},\r\n    sync: {},\r\n    cancelSync: {}\r\n}), steps = _a.steps, sync = _a.sync, cancelSync = _a.cancelSync;\r\nvar processStep = function (stepId) { return steps[stepId].process(frame); };\r\nvar processFrame = function (timestamp) {\r\n    willRunNextFrame = false;\r\n    frame.delta = useDefaultElapsed\r\n        ? defaultElapsed\r\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\r\n    if (!useDefaultElapsed)\r\n        defaultElapsed = frame.delta;\r\n    frame.timestamp = timestamp;\r\n    isProcessing = true;\r\n    stepsOrder.forEach(processStep);\r\n    isProcessing = false;\r\n    if (willRunNextFrame) {\r\n        useDefaultElapsed = false;\r\n        onNextFrame(processFrame);\r\n    }\r\n};\r\nvar startLoop = function () {\r\n    willRunNextFrame = true;\r\n    useDefaultElapsed = true;\r\n    if (!isProcessing)\r\n        onNextFrame(processFrame);\r\n};\r\nvar getFrameData = function () { return frame; };\n\nexport default sync;\nexport { cancelSync, getFrameData };\n","var DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar reversed = function (easing) {\n    return function (p) {\n        return 1 - easing(1 - p);\n    };\n};\nvar mirrored = function (easing) {\n    return function (p) {\n        return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n    };\n};\nvar createReversedEasing = reversed;\nvar createMirroredEasing = mirrored;\nvar createExpoIn = function (power) {\n    return function (p) {\n        return Math.pow(p, power);\n    };\n};\nvar createBackIn = function (power) {\n    return function (p) {\n        return p * p * ((power + 1) * p - power);\n    };\n};\nvar createAnticipateEasing = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\nvar linear = function (p) {\n    return p;\n};\nvar easeIn = /*#__PURE__*/createExpoIn(2);\nvar easeOut = /*#__PURE__*/reversed(easeIn);\nvar easeInOut = /*#__PURE__*/mirrored(easeIn);\nvar circIn = function (p) {\n    return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = /*#__PURE__*/reversed(circIn);\nvar circInOut = /*#__PURE__*/mirrored(circOut);\nvar backIn = /*#__PURE__*/createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = /*#__PURE__*/reversed(backIn);\nvar backInOut = /*#__PURE__*/mirrored(backIn);\nvar anticipate = /*#__PURE__*/createAnticipateEasing(DEFAULT_OVERSHOOT_STRENGTH);\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = function (p) {\n    return 1.0 - bounceOut(1.0 - p);\n};\nvar bounceInOut = function (p) {\n    return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\nvar NEWTON_ITERATIONS = 8;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar K_SPLINE_TABLE_SIZE = 11;\nvar K_SAMPLE_STEP_SIZE = 1.0 / (K_SPLINE_TABLE_SIZE - 1.0);\nvar FLOAT_32_SUPPORTED = typeof Float32Array !== 'undefined';\nvar a = function (a1, a2) {\n    return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function (a1, a2) {\n    return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function (a1) {\n    return 3.0 * a1;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    var sampleValues = FLOAT_32_SUPPORTED ? new Float32Array(K_SPLINE_TABLE_SIZE) : new Array(K_SPLINE_TABLE_SIZE);\n    var binarySubdivide = function (aX, aA, aB) {\n        var i = 0;\n        var currentX;\n        var currentT;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    };\n    var newtonRaphsonIterate = function (aX, aGuessT) {\n        var i = 0;\n        var currentSlope = 0;\n        var currentX;\n        for (; i < NEWTON_ITERATIONS; ++i) {\n            currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) {\n                return aGuessT;\n            }\n            currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    };\n    var calcSampleValues = function () {\n        for (var i = 0; i < K_SPLINE_TABLE_SIZE; ++i) {\n            sampleValues[i] = calcBezier(i * K_SAMPLE_STEP_SIZE, mX1, mX2);\n        }\n    };\n    var getTForX = function (aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = K_SPLINE_TABLE_SIZE - 1;\n        var dist = 0.0;\n        var guessForT = 0.0;\n        var initialSlope = 0.0;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += K_SAMPLE_STEP_SIZE;\n        }\n        --currentSample;\n        dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        guessForT = intervalStart + dist * K_SAMPLE_STEP_SIZE;\n        initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT);\n        } else if (initialSlope === 0.0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + K_SAMPLE_STEP_SIZE);\n        }\n    };\n    calcSampleValues();\n    var resolver = function (aX) {\n        var returnValue;\n        if (mX1 === mY1 && mX2 === mY2) {\n            returnValue = aX;\n        } else if (aX === 0) {\n            returnValue = 0;\n        } else if (aX === 1) {\n            returnValue = 1;\n        } else {\n            returnValue = calcBezier(getTForX(aX), mY1, mY2);\n        }\n        return returnValue;\n    };\n    return resolver;\n}\n\nexport { reversed, mirrored, createReversedEasing, createMirroredEasing, createExpoIn, createBackIn, createAnticipateEasing, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, bounceOut, bounceIn, bounceInOut, cubicBezier };\n","import { hsla, rgba, hex, color, complex } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nimport { getFrameData } from 'framesync';\nimport { createAnticipateEasing, createBackIn, createExpoIn, cubicBezier, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, reversed, mirrored } from '@popmotion/easing';\nexport { createAnticipateEasing, createBackIn, createExpoIn, cubicBezier, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, reversed, mirrored } from '@popmotion/easing';\n\nvar zeroPoint = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n};\r\nvar isNum = function (v) { return typeof v === 'number'; };\n\nvar radiansToDegrees = (function (radians) { return (radians * 180) / Math.PI; });\n\nvar angle = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\r\n});\n\nvar applyOffset = (function (from, to) {\r\n    var hasReceivedFrom = true;\r\n    if (to === undefined) {\r\n        to = from;\r\n        hasReceivedFrom = false;\r\n    }\r\n    return function (v) {\r\n        if (hasReceivedFrom) {\r\n            return v - from + to;\r\n        }\r\n        else {\r\n            from = v;\r\n            hasReceivedFrom = true;\r\n            return to;\r\n        }\r\n    };\r\n});\n\nvar curryRange = (function (func) { return function (min, max, v) { return (v !== undefined ? func(min, max, v) : function (cv) { return func(min, max, cv); }); }; });\n\nvar clamp = function (min, max, v) {\r\n    return Math.min(Math.max(v, min), max);\r\n};\r\nvar clamp$1 = curryRange(clamp);\n\nvar conditional = (function (check, apply) { return function (v) {\r\n    return check(v) ? apply(v) : v;\r\n}; });\n\nvar degreesToRadians = (function (degrees) { return (degrees * Math.PI) / 180; });\n\nvar isPoint = (function (point) {\r\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\r\n});\n\nvar isPoint3D = (function (point) {\r\n    return isPoint(point) && point.hasOwnProperty('z');\r\n});\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\r\nvar distance = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    if (isNum(a) && isNum(b)) {\r\n        return distance1D(a, b);\r\n    }\r\n    else if (isPoint(a) && isPoint(b)) {\r\n        var xDelta = distance1D(a.x, b.x);\r\n        var yDelta = distance1D(a.y, b.y);\r\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\r\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\r\n    }\r\n    return 0;\r\n});\n\nvar progress = (function (from, to, value) {\r\n    var toFromDifference = to - from;\r\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\r\n});\n\nvar mix = (function (from, to, progress) {\r\n    return -progress * from + progress * to + from;\r\n});\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar mixLinearColor = function (from, to, v) {\r\n    var fromExpo = from * from;\r\n    var toExpo = to * to;\r\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\r\n};\r\nvar colorTypes = [hex, rgba, hsla];\r\nvar getColorType = function (v) {\r\n    return colorTypes.find(function (type) { return type.test(v); });\r\n};\r\nvar notAnimatable = function (color$$1) {\r\n    return \"'\" + color$$1 + \"' is not an animatable color. Use the equivalent color code instead.\";\r\n};\r\nvar mixColor = (function (from, to) {\r\n    var fromColorType = getColorType(from);\r\n    var toColorType = getColorType(to);\r\n    invariant(!!fromColorType, notAnimatable(from));\r\n    invariant(!!toColorType, notAnimatable(to));\r\n    invariant(fromColorType.transform === toColorType.transform, 'Both colors must be hex/RGBA, OR both must be HSLA.');\r\n    var fromColor = fromColorType.parse(from);\r\n    var toColor = toColorType.parse(to);\r\n    var blended = __assign({}, fromColor);\r\n    var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\r\n    return function (v) {\r\n        for (var key in blended) {\r\n            if (key !== 'alpha') {\r\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\r\n            }\r\n        }\r\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\r\n        return fromColorType.transform(blended);\r\n    };\r\n});\n\nvar combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\r\nvar pipe = (function () {\r\n    var transformers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        transformers[_i] = arguments[_i];\r\n    }\r\n    return transformers.reduce(combineFunctions);\r\n});\n\nfunction getMixer(origin, target) {\r\n    if (isNum(origin)) {\r\n        return function (v) { return mix(origin, target, v); };\r\n    }\r\n    else if (color.test(origin)) {\r\n        return mixColor(origin, target);\r\n    }\r\n    else {\r\n        return mixComplex(origin, target);\r\n    }\r\n}\r\nvar mixArray = function (from, to) {\r\n    var output = from.slice();\r\n    var numValues = output.length;\r\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\r\n    return function (v) {\r\n        for (var i = 0; i < numValues; i++) {\r\n            output[i] = blendValue[i](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nvar mixObject = function (origin, target) {\r\n    var output = __assign({}, origin, target);\r\n    var blendValue = {};\r\n    for (var key in output) {\r\n        if (origin[key] !== undefined && target[key] !== undefined) {\r\n            blendValue[key] = getMixer(origin[key], target[key]);\r\n        }\r\n    }\r\n    return function (v) {\r\n        for (var key in blendValue) {\r\n            output[key] = blendValue[key](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nfunction analyse(value) {\r\n    var parsed = complex.parse(value);\r\n    var numValues = parsed.length;\r\n    var numNumbers = 0;\r\n    var numRGB = 0;\r\n    var numHSL = 0;\r\n    for (var i = 0; i < numValues; i++) {\r\n        if (numNumbers || typeof parsed[i] === 'number') {\r\n            numNumbers++;\r\n        }\r\n        else {\r\n            if (parsed[i].hue !== undefined) {\r\n                numHSL++;\r\n            }\r\n            else {\r\n                numRGB++;\r\n            }\r\n        }\r\n    }\r\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\r\n}\r\nvar mixComplex = function (origin, target) {\r\n    var template = complex.createTransformer(target);\r\n    var originStats = analyse(origin);\r\n    var targetStats = analyse(target);\r\n    invariant(originStats.numHSL === targetStats.numHSL &&\r\n        originStats.numRGB === targetStats.numRGB &&\r\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\r\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\r\n};\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\r\nfunction detectMixerFactory(v) {\r\n    if (typeof v === 'number') {\r\n        return mixNumber;\r\n    }\r\n    else if (typeof v === 'string') {\r\n        if (color.test(v)) {\r\n            return mixColor;\r\n        }\r\n        else {\r\n            return mixComplex;\r\n        }\r\n    }\r\n    else if (Array.isArray(v)) {\r\n        return mixArray;\r\n    }\r\n    else if (typeof v === 'object') {\r\n        return mixObject;\r\n    }\r\n}\r\nfunction createMixers(output, ease, customMixer) {\r\n    var mixers = [];\r\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\r\n    var numMixers = output.length - 1;\r\n    for (var i = 0; i < numMixers; i++) {\r\n        var mixer = mixerFactory(output[i], output[i + 1]);\r\n        if (ease) {\r\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\r\n            mixer = pipe(easingFunction, mixer);\r\n        }\r\n        mixers.push(mixer);\r\n    }\r\n    return mixers;\r\n}\r\nfunction fastInterpolate(_a, _b) {\r\n    var from = _a[0], to = _a[1];\r\n    var mixer = _b[0];\r\n    return function (v) { return mixer(progress(from, to, v)); };\r\n}\r\nfunction slowInterpolate(input, mixers) {\r\n    var inputLength = input.length;\r\n    var lastInputIndex = inputLength - 1;\r\n    return function (v) {\r\n        var mixerIndex = 0;\r\n        var foundMixerIndex = false;\r\n        if (v <= input[0]) {\r\n            foundMixerIndex = true;\r\n        }\r\n        else if (v >= input[lastInputIndex]) {\r\n            mixerIndex = lastInputIndex - 1;\r\n            foundMixerIndex = true;\r\n        }\r\n        if (!foundMixerIndex) {\r\n            var i = 1;\r\n            for (; i < inputLength; i++) {\r\n                if (input[i] > v || i === lastInputIndex) {\r\n                    break;\r\n                }\r\n            }\r\n            mixerIndex = i - 1;\r\n        }\r\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\r\n        return mixers[mixerIndex](progressInRange);\r\n    };\r\n}\r\nfunction interpolate(input, output, _a) {\r\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, clamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\r\n    var inputLength = input.length;\r\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\r\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\r\n    if (input[0] > input[inputLength - 1]) {\r\n        input = [].concat(input);\r\n        output = [].concat(output);\r\n        input.reverse();\r\n        output.reverse();\r\n    }\r\n    var mixers = createMixers(output, ease, mixer);\r\n    var interpolator = inputLength === 2\r\n        ? fastInterpolate(input, mixers)\r\n        : slowInterpolate(input, mixers);\r\n    return clamp\r\n        ? pipe(clamp$1(input[0], input[inputLength - 1]), interpolator)\r\n        : interpolator;\r\n}\n\nvar pointFromVector = (function (origin, angle, distance) {\r\n    angle = degreesToRadians(angle);\r\n    return {\r\n        x: distance * Math.cos(angle) + origin.x,\r\n        y: distance * Math.sin(angle) + origin.y\r\n    };\r\n});\n\nvar toDecimal = (function (num, precision) {\r\n    if (precision === void 0) { precision = 2; }\r\n    precision = Math.pow(10, precision);\r\n    return Math.round(num * precision) / precision;\r\n});\n\nvar smoothFrame = (function (prevValue, nextValue, duration, smoothing) {\r\n    if (smoothing === void 0) { smoothing = 0; }\r\n    return toDecimal(prevValue +\r\n        (duration * (nextValue - prevValue)) / Math.max(smoothing, duration));\r\n});\n\nvar smooth = (function (strength) {\r\n    if (strength === void 0) { strength = 50; }\r\n    var previousValue = 0;\r\n    var lastUpdated = 0;\r\n    return function (v) {\r\n        var currentFramestamp = getFrameData().timestamp;\r\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\r\n        var newValue = timeDelta\r\n            ? smoothFrame(previousValue, v, timeDelta, strength)\r\n            : previousValue;\r\n        lastUpdated = currentFramestamp;\r\n        previousValue = newValue;\r\n        return newValue;\r\n    };\r\n});\n\nvar snap = (function (points) {\r\n    if (typeof points === 'number') {\r\n        return function (v) { return Math.round(v / points) * points; };\r\n    }\r\n    else {\r\n        var i_1 = 0;\r\n        var numPoints_1 = points.length;\r\n        return function (v) {\r\n            var lastDistance = Math.abs(points[0] - v);\r\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\r\n                var point = points[i_1];\r\n                var distance = Math.abs(point - v);\r\n                if (distance === 0)\r\n                    return point;\r\n                if (distance > lastDistance)\r\n                    return points[i_1 - 1];\r\n                if (i_1 === numPoints_1 - 1)\r\n                    return point;\r\n                lastDistance = distance;\r\n            }\r\n        };\r\n    }\r\n});\n\nvar identity = function (v) { return v; };\r\nvar springForce = function (alterDisplacement) {\r\n    if (alterDisplacement === void 0) { alterDisplacement = identity; }\r\n    return curryRange(function (constant, origin, v) {\r\n        var displacement = origin - v;\r\n        var springModifiedDisplacement = -(0 - constant + 1) * (0 - alterDisplacement(Math.abs(displacement)));\r\n        return displacement <= 0\r\n            ? origin + springModifiedDisplacement\r\n            : origin - springModifiedDisplacement;\r\n    });\r\n};\r\nvar springForceLinear = springForce();\r\nvar springForceExpo = springForce(Math.sqrt);\n\nvar velocityPerFrame = (function (xps, frameDuration) {\r\n    return isNum(xps) ? xps / (1000 / frameDuration) : 0;\r\n});\n\nvar velocityPerSecond = (function (velocity, frameDuration) {\r\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\r\n});\n\nvar wrap = function (min, max, v) {\r\n    var rangeSize = max - min;\r\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\r\n};\r\nvar wrap$1 = curryRange(wrap);\n\nvar clampProgress = clamp$1(0, 1);\r\nvar steps = (function (steps, direction) {\r\n    if (direction === void 0) { direction = 'end'; }\r\n    return function (progress) {\r\n        progress =\r\n            direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\r\n        var expanded = progress * steps;\r\n        var rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\r\n        return clampProgress(rounded / steps);\r\n    };\r\n});\n\nexport { angle, applyOffset, clamp$1 as clamp, conditional, degreesToRadians, distance, interpolate, isPoint, isPoint3D, mix, mixArray, mixColor, mixComplex, mixObject, pipe, pointFromVector, progress, radiansToDegrees, smooth, smoothFrame, snap, springForce, springForceExpo, springForceLinear, steps, toDecimal, velocityPerFrame, velocityPerSecond, wrap$1 as wrap };\n","import { __rest, __assign } from 'tslib';\nimport sync from 'framesync';\nimport { alpha, color, degrees, scale, px, progressPercentage, number } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar createStyler = function (_a) {\n    var onRead = _a.onRead,\n        onRender = _a.onRender,\n        _b = _a.uncachedValues,\n        uncachedValues = _b === void 0 ? new Set() : _b,\n        _c = _a.useCache,\n        useCache = _c === void 0 ? true : _c;\n    return function (_a) {\n        if (_a === void 0) {\n            _a = {};\n        }\n        var props = __rest(_a, []);\n        var state = {};\n        var changedValues = [];\n        var hasChanged = false;\n        function setValue(key, value) {\n            if (key.startsWith('--')) {\n                props.hasCSSVariable = true;\n            }\n            var currentValue = state[key];\n            state[key] = value;\n            if (state[key] === currentValue) return;\n            if (changedValues.indexOf(key) === -1) {\n                changedValues.push(key);\n            }\n            if (!hasChanged) {\n                hasChanged = true;\n                sync.render(styler.render);\n            }\n        }\n        var styler = {\n            get: function (key, forceRead) {\n                if (forceRead === void 0) {\n                    forceRead = false;\n                }\n                var useCached = !forceRead && useCache && !uncachedValues.has(key) && state[key] !== undefined;\n                return useCached ? state[key] : onRead(key, props);\n            },\n            set: function (values, value) {\n                if (typeof values === 'string') {\n                    setValue(values, value);\n                } else {\n                    for (var key in values) {\n                        setValue(key, values[key]);\n                    }\n                }\n                return this;\n            },\n            render: function (forceRender) {\n                if (forceRender === void 0) {\n                    forceRender = false;\n                }\n                if (hasChanged || forceRender === true) {\n                    onRender(state, props, changedValues);\n                    hasChanged = false;\n                    changedValues.length = 0;\n                }\n                return this;\n            }\n        };\n        return styler;\n    };\n};\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = '$1-$2';\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nvar camelCache = /*#__PURE__*/new Map();\nvar dashCache = /*#__PURE__*/new Map();\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms', ''];\nvar numPrefixes = prefixes.length;\nvar isBrowser = typeof document !== 'undefined';\nvar testElement;\nvar setDashPrefix = function (key, prefixed) {\n    return dashCache.set(key, camelToDash(prefixed));\n};\nvar testPrefix = function (key) {\n    testElement = testElement || document.createElement('div');\n    for (var i = 0; i < numPrefixes; i++) {\n        var prefix = prefixes[i];\n        var noPrefix = prefix === '';\n        var prefixedPropertyName = noPrefix ? key : prefix + key.charAt(0).toUpperCase() + key.slice(1);\n        if (prefixedPropertyName in testElement.style || noPrefix) {\n            if (noPrefix && key === 'clipPath' && dashCache.has(key)) {\n                return;\n            }\n            camelCache.set(key, prefixedPropertyName);\n            setDashPrefix(key, \"\" + (noPrefix ? '' : '-') + camelToDash(prefixedPropertyName));\n        }\n    }\n};\nvar setServerProperty = function (key) {\n    return setDashPrefix(key, key);\n};\nvar prefixer = function (key, asDashCase) {\n    if (asDashCase === void 0) {\n        asDashCase = false;\n    }\n    var cache = asDashCase ? dashCache : camelCache;\n    if (!cache.has(key)) {\n        isBrowser ? testPrefix(key) : setServerProperty(key);\n    }\n    return cache.get(key) || key;\n};\n\nvar axes = ['', 'X', 'Y', 'Z'];\nvar order = ['translate', 'scale', 'rotate', 'skew', 'transformPerspective'];\nvar transformProps = /*#__PURE__*/order.reduce(function (acc, key) {\n    return axes.reduce(function (axesAcc, axesKey) {\n        axesAcc.push(key + axesKey);\n        return axesAcc;\n    }, acc);\n}, ['x', 'y', 'z']);\nvar transformPropDictionary = /*#__PURE__*/transformProps.reduce(function (dict, key) {\n    dict[key] = true;\n    return dict;\n}, {});\nfunction isTransformProp(key) {\n    return transformPropDictionary[key] === true;\n}\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\nvar transformOriginProps = /*#__PURE__*/new Set(['originX', 'originY', 'originZ']);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nvar int = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, number), { transform: Math.round });\nvar valueTypes = {\n    color: color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    zIndex: int,\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int\n};\nvar getValueType = function (key) {\n    return valueTypes[key];\n};\nvar getValueAsType = function (value, type) {\n    return type && typeof value === 'number' ? type.transform(value) : value;\n};\n\nvar SCROLL_LEFT = 'scrollLeft';\nvar SCROLL_TOP = 'scrollTop';\nvar scrollKeys = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP]);\n\nvar blacklist = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP, 'transform']);\nvar translateAlias = {\n    x: 'translateX',\n    y: 'translateY',\n    z: 'translateZ'\n};\nfunction isCustomTemplate(v) {\n    return typeof v === 'function';\n}\nfunction buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration) {\n    var transformString = '';\n    var transformHasZ = false;\n    transformKeys.sort(sortTransformProps);\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        transformHasZ = key === 'z' ? true : transformHasZ;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += 'translateZ(0)';\n    } else {\n        transformString = transformString.trim();\n    }\n    if (isCustomTemplate(state.transform)) {\n        transformString = state.transform(transform, transformString);\n    } else if (transformIsDefault) {\n        transformString = 'none';\n    }\n    return transformString;\n}\nfunction buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase) {\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    if (styles === void 0) {\n        styles = {};\n    }\n    if (transform === void 0) {\n        transform = {};\n    }\n    if (transformOrigin === void 0) {\n        transformOrigin = {};\n    }\n    if (transformKeys === void 0) {\n        transformKeys = [];\n    }\n    if (isDashCase === void 0) {\n        isDashCase = false;\n    }\n    var transformIsDefault = true;\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    for (var key in state) {\n        var value = state[key];\n        var valueType = getValueType(key);\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            if (transformIsDefault) {\n                if (valueType.default && value !== valueType.default || !valueType.default && value !== 0) {\n                    transformIsDefault = false;\n                }\n            }\n        } else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            hasTransformOrigin = true;\n        } else if (!blacklist.has(key) || !isCustomTemplate(valueAsType)) {\n            styles[prefixer(key, isDashCase)] = valueAsType;\n        }\n    }\n    if (hasTransform || typeof state.transform === 'function') {\n        styles.transform = buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration);\n    }\n    if (hasTransformOrigin) {\n        styles.transformOrigin = (transformOrigin.originX || '50%') + \" \" + (transformOrigin.originY || '50%') + \" \" + (transformOrigin.originZ || 0);\n    }\n    return styles;\n}\nfunction createStyleBuilder(enableHardwareAcceleration, isDashCase) {\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var styles = {};\n    var transform = {};\n    var transformOrigin = {};\n    var transformKeys = [];\n    return function (state) {\n        transformKeys.length = 0;\n        buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase);\n        return styles;\n    };\n}\n\nfunction onRead(key, options) {\n    var element = options.element,\n        preparseOutput = options.preparseOutput;\n    var defaultValueType = getValueType(key);\n    if (isTransformProp(key)) {\n        return defaultValueType ? defaultValueType.default || 0 : 0;\n    } else if (scrollKeys.has(key)) {\n        return element[key];\n    } else {\n        var domValue = window.getComputedStyle(element, null).getPropertyValue(prefixer(key, true)) || 0;\n        return preparseOutput && defaultValueType && defaultValueType.test(domValue) && defaultValueType.parse ? defaultValueType.parse(domValue) : domValue;\n    }\n}\nfunction onRender(state, _a, changedValues) {\n    var element = _a.element,\n        buildStyles = _a.buildStyles,\n        hasCSSVariable = _a.hasCSSVariable;\n    Object.assign(element.style, buildStyles(state));\n    if (hasCSSVariable) {\n        var numChangedValues = changedValues.length;\n        for (var i = 0; i < numChangedValues; i++) {\n            var key = changedValues[i];\n            if (key.startsWith('--')) {\n                element.style.setProperty(key, state[key]);\n            }\n        }\n    }\n    if (changedValues.indexOf(SCROLL_LEFT) !== -1) {\n        element[SCROLL_LEFT] = state[SCROLL_LEFT];\n    }\n    if (changedValues.indexOf(SCROLL_TOP) !== -1) {\n        element[SCROLL_TOP] = state[SCROLL_TOP];\n    }\n}\nvar cssStyler = /*#__PURE__*/createStyler({\n    onRead: onRead,\n    onRender: onRender,\n    uncachedValues: scrollKeys\n});\nfunction createCssStyler(element, _a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var enableHardwareAcceleration = _a.enableHardwareAcceleration,\n        props = __rest(_a, [\"enableHardwareAcceleration\"]);\n    return cssStyler(__assign({ element: element, buildStyles: createStyleBuilder(enableHardwareAcceleration), preparseOutput: true }, props));\n}\n\nvar camelCaseAttributes = /*#__PURE__*/new Set(['baseFrequency', 'diffuseConstant', 'kernelMatrix', 'kernelUnitLength', 'keySplines', 'keyTimes', 'limitingConeAngle', 'markerHeight', 'markerWidth', 'numOctaves', 'targetX', 'targetY', 'surfaceScale', 'specularConstant', 'specularExponent', 'stdDeviation', 'tableValues']);\n\nvar defaultOrigin = 0.5;\nvar svgAttrsTemplate = function () {\n    return {\n        style: {}\n    };\n};\nvar progressToPixels = function (progress, length) {\n    return px.transform(progress * length);\n};\nvar unmeasured = { x: 0, y: 0, width: 0, height: 0 };\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === 'string' ? origin : px.transform(offset + size * origin);\n}\nfunction calculateSVGTransformOrigin(dimensions, originX, originY) {\n    return calcOrigin(originX, dimensions.x, dimensions.width) + \" \" + calcOrigin(originY, dimensions.y, dimensions.height);\n}\nfunction buildSVGAttrs(_a, dimensions, totalPathLength, cssBuilder, attrs, isDashCase) {\n    if (dimensions === void 0) {\n        dimensions = unmeasured;\n    }\n    if (cssBuilder === void 0) {\n        cssBuilder = createStyleBuilder(false, false);\n    }\n    if (attrs === void 0) {\n        attrs = svgAttrsTemplate();\n    }\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrX = _a.attrX,\n        attrY = _a.attrY,\n        originX = _a.originX,\n        originY = _a.originY,\n        pathLength = _a.pathLength,\n        _b = _a.pathSpacing,\n        pathSpacing = _b === void 0 ? 1 : _b,\n        _c = _a.pathOffset,\n        pathOffset = _c === void 0 ? 0 : _c,\n        state = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    var style = cssBuilder(state);\n    for (var key in style) {\n        if (key === 'transform') {\n            attrs.style.transform = style[key];\n        } else {\n            var attrKey = isDashCase && !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n            attrs[attrKey] = style[key];\n        }\n    }\n    if (originX !== undefined || originY !== undefined || style.transform) {\n        attrs.style.transformOrigin = calculateSVGTransformOrigin(dimensions, originX !== undefined ? originX : defaultOrigin, originY !== undefined ? originY : defaultOrigin);\n    }\n    if (attrX !== undefined) attrs.x = attrX;\n    if (attrY !== undefined) attrs.y = attrY;\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        attrs[isDashCase ? 'stroke-dashoffset' : 'strokeDashoffset'] = progressToPixels(-pathOffset, totalPathLength);\n        attrs[isDashCase ? 'stroke-dasharray' : 'strokeDasharray'] = progressToPixels(pathLength, totalPathLength) + \" \" + progressToPixels(pathSpacing, totalPathLength);\n    }\n    return attrs;\n}\nfunction createAttrBuilder(dimensions, totalPathLength, isDashCase) {\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrs = svgAttrsTemplate();\n    var cssBuilder = createStyleBuilder(false, false);\n    return function (state) {\n        return buildSVGAttrs(state, dimensions, totalPathLength, cssBuilder, attrs, isDashCase);\n    };\n}\n\nvar getDimensions = function (element) {\n    return typeof element.getBBox === 'function' ? element.getBBox() : element.getBoundingClientRect();\n};\nvar getSVGElementDimensions = function (element) {\n    try {\n        return getDimensions(element);\n    } catch (e) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n};\n\nvar isPath = function (element) {\n    return element.tagName === 'path';\n};\nvar svgStyler = /*#__PURE__*/createStyler({\n    onRead: function (key, _a) {\n        var element = _a.element;\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        if (!isTransformProp(key)) {\n            return element.getAttribute(key);\n        } else {\n            var valueType = getValueType(key);\n            return valueType ? valueType.default || 0 : 0;\n        }\n    },\n    onRender: function (state, _a) {\n        var element = _a.element,\n            buildAttrs = _a.buildAttrs;\n        var attrs = buildAttrs(state);\n        for (var key in attrs) {\n            if (key === 'style') {\n                Object.assign(element.style, attrs.style);\n            } else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n});\nvar svg = function (element) {\n    var dimensions = getSVGElementDimensions(element);\n    var pathLength = isPath(element) && element.getTotalLength ? element.getTotalLength() : undefined;\n    return svgStyler({\n        element: element,\n        buildAttrs: createAttrBuilder(dimensions, pathLength)\n    });\n};\n\nvar viewport = /*#__PURE__*/createStyler({\n    useCache: false,\n    onRead: function (key) {\n        return key === 'scrollTop' ? window.pageYOffset : window.pageXOffset;\n    },\n    onRender: function (_a) {\n        var _b = _a.scrollTop,\n            scrollTop = _b === void 0 ? 0 : _b,\n            _c = _a.scrollLeft,\n            scrollLeft = _c === void 0 ? 0 : _c;\n        return window.scrollTo(scrollLeft, scrollTop);\n    }\n});\n\nvar cache = /*#__PURE__*/new WeakMap();\nvar createDOMStyler = function (node, props) {\n    var styler;\n    if (node instanceof HTMLElement) {\n        styler = createCssStyler(node, props);\n    } else if (node instanceof SVGElement) {\n        styler = svg(node);\n    } else if (node === window) {\n        styler = viewport(node);\n    }\n    invariant(styler !== undefined, 'No valid node provided. Node must be HTMLElement, SVGElement or window.');\n    cache.set(node, styler);\n    return styler;\n};\nvar getStyler = function (node, props) {\n    return cache.has(node) ? cache.get(node) : createDOMStyler(node, props);\n};\nfunction index(nodeOrSelector, props) {\n    var node = typeof nodeOrSelector === 'string' ? document.querySelector(nodeOrSelector) : nodeOrSelector;\n    return getStyler(node, props);\n}\n\nexport default index;\nexport { createStyler as createStylerFactory, buildStyleProperty, buildSVGAttrs, transformProps, isTransformProp };\n","import { __rest, __extends, __assign } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixColor, mixComplex, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport * as styleValueTypes from 'style-value-types';\nimport { color, complex, percent, degrees, vh, vw, px, number } from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport * as easing from '@popmotion/easing';\nimport { linear, createReversedEasing, easeOut, easeInOut } from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create(__assign({}, this.props, { middleware: this.props.middleware ? [middleware].concat(this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        var _this = this;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = __rest(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? __assign({}, subscription, api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    __extends(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    __extends(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar stepProgress = function (steps, progress$$1) {\n    var segment = 1 / (steps - 1);\n    var subsegment = 1 / (2 * (steps - 1));\n    var percentProgressOfTarget = Math.min(progress$$1, 1);\n    var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n    var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n    return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    angle: angle,\n    degreesToRadians: degreesToRadians,\n    distance: distance,\n    isPoint3D: isPoint3D,\n    isPoint: isPoint,\n    dilate: mix,\n    getValueFromProgress: mix,\n    pointFromAngleAndDistance: pointFromVector,\n    getProgressFromValue: progress,\n    radiansToDegrees: radiansToDegrees,\n    smooth: smoothFrame,\n    speedPerFrame: velocityPerFrame,\n    speedPerSecond: velocityPerSecond,\n    stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    __extends(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return sync.postRender(_this.velocityCheck);\n        };\n        _this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v.slice();\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        var _a = getFrameData(),\n            delta = _a.delta,\n            timestamp = _a.timestamp;\n        this.timeDelta = delta;\n        this.lastUpdated = timestamp;\n        sync.postRender(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.subscribers[this.subscribers.length - 1].update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) sync.update(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        sync.update(updateOutput, false, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                var _a;\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.some(function (key) {\n            return isVectorProp(props[key], key);\n        });\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action(__assign({}, props, { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n    return function (action, _a) {\n        var from = _a.from,\n            to = _a.to,\n            props = __rest(_a, [\"from\", \"to\"]);\n        return action(__assign({}, props, { from: 0, to: 1 })).pipe(mixer(from, to));\n    };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    if (typeof prop === 'number') {\n        return createAction;\n    } else if (Array.isArray(prop)) {\n        return createArrayAction;\n    } else if (isUnitProp(prop)) {\n        return createUnitAction;\n    } else if (color.test(prop)) {\n        return createColorAction;\n    } else if (complex.test(prop)) {\n        return createComplexAction;\n    } else if (typeof prop === 'object') {\n        return createObjectAction;\n    } else {\n        return createAction;\n    }\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = Math.round(from + amplitude);\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        var process = sync.update(function (_a) {\n            var frameDelta = _a.delta;\n            elapsed += frameDelta;\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var process = sync.update(function (_a) {\n            var timeDelta = _a.delta;\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = velocityPerSecond(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                cancelSync.update(process);\n                complete();\n            } else {\n                update(position);\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: number.test,\n    to: number.test,\n    stiffness: number.test,\n    damping: number.test,\n    mass: number.test,\n    velocity: number.test\n});\n\nvar inertia = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.velocity,\n        velocity = _c === void 0 ? 0 : _c,\n        min = _a.min,\n        max = _a.max,\n        _d = _a.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = _a.timeConstant,\n        timeConstant = _e === void 0 ? 700 : _e,\n        _f = _a.bounceStiffness,\n        bounceStiffness = _f === void 0 ? 500 : _f,\n        _g = _a.bounceDamping,\n        bounceDamping = _g === void 0 ? 10 : _g,\n        _h = _a.restDelta,\n        restDelta = _h === void 0 ? 1 : _h,\n        modifyTarget = _a.modifyTarget;\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var current = value(from);\n        var activeAnimation;\n        var isSpring = false;\n        var isLessThanMin = function (v) {\n            return min !== undefined && v <= min;\n        };\n        var isMoreThanMax = function (v) {\n            return max !== undefined && v >= max;\n        };\n        var isOutOfBounds = function (v) {\n            return isLessThanMin(v) || isMoreThanMax(v);\n        };\n        var isTravellingAwayFromBounds = function (v, currentVelocity) {\n            return isLessThanMin(v) && currentVelocity < 0 || isMoreThanMax(v) && currentVelocity > 0;\n        };\n        var startAnimation = function (animation, next) {\n            activeAnimation && activeAnimation.stop();\n            activeAnimation = animation.start({\n                update: function (v) {\n                    return current.update(v);\n                },\n                complete: function () {\n                    if (next) {\n                        next();\n                        return;\n                    }\n                    complete();\n                }\n            });\n        };\n        var startSpring = function (props) {\n            isSpring = true;\n            startAnimation(vectorSpring(__assign({}, props, { to: isLessThanMin(props.from) ? min : max, stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta })));\n        };\n        current.subscribe(function (v) {\n            update(v);\n            var currentVelocity = current.getVelocity();\n            if (activeAnimation && !isSpring && isTravellingAwayFromBounds(v, currentVelocity)) {\n                startSpring({ from: v, velocity: currentVelocity });\n            }\n        });\n        if (isOutOfBounds(from)) {\n            startSpring({ from: from, velocity: velocity });\n        } else if (velocity !== 0) {\n            var animation = vectorDecay({\n                from: from,\n                velocity: velocity,\n                timeConstant: timeConstant,\n                power: power,\n                restDelta: isOutOfBounds(from) ? 20 : restDelta,\n                modifyTarget: modifyTarget\n            });\n            startAnimation(animation, function () {\n                var v = current.get();\n                if (isOutOfBounds(v)) {\n                    startSpring({ from: v, velocity: current.getVelocity() });\n                } else {\n                    complete();\n                }\n            });\n        } else {\n            complete();\n        }\n        return {\n            stop: function () {\n                return activeAnimation && activeAnimation.stop();\n            }\n        };\n    });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n    from: number.test,\n    velocity: number.test,\n    min: number.test,\n    max: number.test,\n    damping: number.test,\n    stiffness: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    }\n});\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var initialTime = 0;\n        var process = sync.update(function (_a) {\n            var timestamp = _a.timestamp;\n            if (!initialTime) initialTime = timestamp;\n            update(timestamp - initialTime);\n        }, true, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? linear : _d,\n        _e = _a.reverseEase,\n        reverseEase = _e === void 0 ? false : _e;\n    if (reverseEase) {\n        ease = createReversedEasing(ease);\n    }\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress$$1) {\n                return update(progress$$1);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return mix(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: number.test,\n    to: number.test\n});\n\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f,\n            _g = props.repeatDelay,\n            repeatDelay = _g === void 0 ? 0 : _g;\n        var _h = props.from,\n            from = _h === void 0 ? 0 : _h,\n            _j = props.to,\n            to = _j === void 0 ? 1 : _j,\n            _k = props.elapsed,\n            elapsed = _k === void 0 ? 0 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var currentProgress = 0;\n        var process;\n        var isActive = false;\n        var reverseAnimation = function (reverseEase) {\n            if (reverseEase === void 0) {\n                reverseEase = false;\n            }\n            var _a;\n            _a = [to, from], from = _a[0], to = _a[1];\n            playhead = vectorScrubber({ from: from, to: to, ease: ease, reverseEase: reverseEase }).start(update);\n        };\n        var isTweenComplete = function () {\n            var isComplete = isActive && elapsed > duration + repeatDelay;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            elapsed = duration - (elapsed - repeatDelay);\n            if (loop && loopCount < loop) {\n                loopCount++;\n                return false;\n            } else if (flip && flipCount < flip) {\n                flipCount++;\n                reverseAnimation();\n                return false;\n            } else if (yoyo && yoyoCount < yoyo) {\n                yoyoCount++;\n                reverseAnimation(yoyoCount % 2 !== 0);\n                return false;\n            }\n            return true;\n        };\n        var updateTween = function () {\n            currentProgress = clampProgress(progress(0, duration, elapsed));\n            playhead.seek(currentProgress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            process = sync.update(function (_a) {\n                var delta = _a.delta;\n                elapsed += delta;\n                updateTween();\n                if (isTweenComplete()) {\n                    cancelSync.update(process);\n                    complete && sync.update(complete, false, true);\n                }\n            }, true);\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (process) cancelSync.update(process);\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return clamp(0, duration, elapsed);\n            },\n            getProgress: function () {\n                return currentProgress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                if (!isActive) startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = mix(0, duration, newProgress);\n                sync.update(updateTween, false, true);\n                return this;\n            },\n            reverse: function () {\n                reverseAnimation();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing$$1) {\n    return values.map(function () {\n        return easing$$1 || easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = progress(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing$$1, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing$$1\n        });\n    });\n    return tween(__assign({}, tweenProps, { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var process = sync.update(function (_a) {\n            var delta = _a.delta;\n            var elapsed = Math.max(delta, 16);\n            if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n            }\n            current += velocityPerFrame(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: number.test,\n    friction: number.test,\n    velocity: number.test,\n    from: number.test,\n    to: number.test,\n    springStrength: number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset += staggerDelay;\n            flatInstructions.push(\"-\" + (duration - offset));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = __assign({}, instruction, { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes(__assign({}, keyframeProps, { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', {\n        passive: true,\n        capture: true\n    }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = distance(firstTouch, secondTouch);\n            initialRotation = angle(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = distance(firstTouch, secondTouch);\n                var newRotation = angle(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', {\n            passive: !preventDefault\n        }).start(onMove);\n        if (isTouchDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = __rest(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = applyOffset(x || 0);\n        var applyYOffset_1 = applyOffset(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start(__assign({}, observer, { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update(mix(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var current = progress(min, max, v);\n        return mix(min, max, stepProgress(st, current));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = __assign({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    applyOffset: applyOffset,\n    clamp: clamp,\n    conditional: conditional,\n    interpolate: interpolate,\n    blendArray: mixArray,\n    blendColor: mixColor,\n    pipe: pipe,\n    smooth: smooth,\n    snap: snap,\n    generateStaticSpring: springForce,\n    nonlinearSpring: springForceExpo,\n    linearSpring: springForceLinear,\n    wrap: wrap,\n    appendUnit: appendUnit,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar css = function (element, props) {\n    warning(false, 'css() is deprecated, use styler instead');\n    return styler(element, props);\n};\nvar svg = function (element, props) {\n    warning(false, 'svg() is deprecated, use styler instead');\n    return styler(element, props);\n};\n\nexport { action, multicast, value, vectorDecay as decay, index as inertia, keyframes, frame as everyFrame, vectorPhysics as physics, vectorSpring as spring, timeline, tween, listen, index$1 as pointer, mouse, multitouch, chain, composite, crossfade, delay, merge, parallel$1 as parallel, schedule, stagger, calc, transformers as transform, css, svg, Action, ValueReaction };\n","import { styler, value, listen, pointer, spring } from 'popmotion';\n\n\n// code taken from one of the examples on popmotion.io\nconst ball = document.querySelector(\".box\");\nconst divStyler = styler(ball);\nconst ballXY = value({ x: 0, y: 0 }, divStyler.set);\n\nlisten(ball, \"mousedown touchstart\").start(e => {\n  e.preventDefault();\n  pointer(ballXY.get()).start(ballXY);\n});\n\nlisten(document, \"mouseup\").start(() => {\n  spring({\n      from: ballXY.get(),\n      velocity: ballXY.getVelocity(),\n      to: { x: 0, y: 0 },\n      stiffness: 200\n    })\n    .start(ballXY);\n});","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}